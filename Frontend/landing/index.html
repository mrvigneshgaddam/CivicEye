<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CivicEye - Emergency Reporting System</title>
    <link rel="stylesheet" href="/Frontend/landing/style.css" />
    <link rel="stylesheet" href="loginanimation.css">
    <link rel="stylesheet" href="profile-dropdown.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="auth_passing.js"></script>
    <script src="profile-dropdown.js"></script>
  </head>
<body>
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <button class="close-btn" id="closeNav">
          <i data-lucide="chevron-left"></i>
        </button>
        <div class="logo">
          <i data-lucide="shield-alert"></i>
          <span>CivicEye</span>
        </div>
      </div>
      <ul class="nav-links">
        <li>
          <a href="/Frontend/landing/index.html" class="active">
            <i data-lucide="home"></i>
            <span>Home</span>
          </a>
        </li>
        <li>
          <a href="/Frontend/Dashboard/dashboard.html" class="active">
            <i data-lucide="layout-dashboard"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a href="/Frontend/report/report.html" class="active">
            <i data-lucide="file-text"></i>
            <span>Report Case</span>
          </a>
        </li>
        <li>
          <a href="/Frontend/Track_case/track.html" class="active">
            <i data-lucide="search"></i>
            <span>Track Case</span>
          </a>
        </li>
        <li>
          <a href="/Frontend/Emergency/emergency.html" class="active">
            <i data-lucide="phone"></i>
            <span>Emergency Contacts</span>
          </a>
        </li>
        <li>
          <a href="/Frontend/help_guide/help.html" class="active">
            <i data-lucide="help-circle"></i>
            <span>Help Guide</span>
          </a>
        </li>
                    <li>
                <a href="/Frontend/safety-tips/safety.html" class="active">
                    <i data-lucide="shield"></i>
                    <span>Safety Tips</span>
                </a>
            </li>
            
            <li>
                <a href="/Frontend/Contact Us/contact-us.html"
                    ><i data-lucide="phone"></i>Contact</a
                >
            </li>
      </ul>
      <div class="emergency-section">
        <div class="emergency-title">
          <i data-lucide="phone-call"></i>
          <span>Emergency Numbers</span>
        </div>
        <div class="emergency-numbers">
          <a
            href="tel:100"
            class="emergency-item"
            style="color: #ffff; text-decoration: none"
          >
            <span class="service">Police</span>
            <span class="number">100</span>
          </a>
          <a
            href="tel:1091"
            class="emergency-item"
            style="color: #ffff; text-decoration: none"
          >
            <span class="service">Women Helpline</span>
            <span class="number">1091</span>
          </a>
          <a
            href="tel:108"
            class="emergency-item"
            style="color: #ffff; text-decoration: none"
          >
            <span class="service">Ambulance</span>
            <span class="number">108</span>
          </a>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <header class="top-nav">
        <div class="nav-left">
          <button class="menu-btn" id="openNav">
            <i data-lucide="menu"></i>
          </button>
          <div
            class="brand"
            onclick="window.location.href='/Frontend/landing/index.html'"
            style="cursor: pointer"
          >
            <i data-lucide="shield-alert"></i>
            <span>CivicEye</span>
          </div>
        </div>
        <div class="nav-right">
          <a href="tel:112" style="color: #ffff; text-decoration: none">
            <button class="btn btn-emergency">
              <i data-lucide="phone-call"></i>
              Emergency
            </button>
          </a>
          <button id="openLoginBtn" class="btn btn-login">Login</button>
          <button id="showLogin" class="btn btn-signup">Register</button>
          <div id="profileSection" style="display: none">
            <button id="profileBtn" class="btn btn-profile">
              <i data-lucide="user"></i>
            </button>
          </div>
        </div>
      </header>

      <div class="alert-banner">
        <div class="alert-content">
          <i data-lucide="alert-triangle"></i>
          <div class="alert-text">
            <h3>Immediate Action Required</h3>
            <p>
              Quick online reporting can save lives. Report incidents
              immediately.
            </p>
          </div>
        </div>
        <button
          class="btn btn-report"
          onclick="window.location.href='/Frontend/report/report.html'"
        >
          <i data-lucide="file-plus"></i>
          Report Now
        </button>
      </div>

      <div class="dashboard-grid">
        <section class="quick-actions">
          <h2>Quick Actions</h2>
          <div class="action-buttons">
            <button
              class="action-btn"
              onclick="window.location.href = '/Frontend/Dashboard/Home/Home.html'"
            >
              <i data-lucide="layout-dashboard"></i>
              <span>Dashboard</span>
            </button>
            <button
              class="action-btn"
              onclick="window.location.href ='/Frontend/Track_case/track.html'"
            >
              <i data-lucide="search"></i>
              <span>Track Case</span>
            </button>
            <button
              class="action-btn"
              onclick="window.location.href = '/Frontend/Emergency/emergency.html'"
            >
              <i data-lucide="phone"></i>
              <span>Emergency</span>
            </button>
            <button class="action-btn" onclick="window.location.href = 'https://www.google.com/maps/search/police+stations+near+me/@22.294893,73.269402,11z?hl=en-IN&entry=ttu&g_ep=EgoyMDI1MDcxMy4wIKXMDSoASAFQAw%3D%3D'">
              <i data-lucide="map-pin"></i>
              <span>Nearby Station</span>
            </button>
          </div>
        </section>

        <section class="statistics-section">
          <div class="stat-grid">
            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: rgba(59, 130, 246, 0.1)"
              >
                <i data-lucide="file-text" style="color: #3b82f6"></i>
              </div>
              <div class="stat-info">
                <h3>Total Cases</h3>
                <p class="stat-number">2,045</p>
              </div>
            </div>
            <div class="stat-card">                
              <div
                class="stat-icon"
                style="background: rgba(16, 185, 129, 0.1)"
              >
                <i data-lucide="check-circle" style="color: #10b981"></i>
              </div>
              <div class="stat-info">
                <h3>Solved Cases</h3>
                <p class="stat-number">1,045</p>
              </div>
            </div>
            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: rgba(245, 158, 11, 0.1)"
              >
                <i data-lucide="clock" style="color: #f59e0b"></i>
              </div>
              <div class="stat-info">
                <h3>Pending Cases</h3>
                <p class="stat-number">1,000</p>
              </div>
            </div>
            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: rgba(139, 92, 246, 0.1)"
              >
                <i data-lucide="trending-up" style="color: #8b5cf6"></i>
              </div>
              <div class="stat-info">
                <h3>This Year</h3>
                <p class="stat-number">500</p>
              </div>
            </div>
          </div>
        </section>

        <!-- News Section -->

        <section class="news-section">
          <h2>Latest News</h2>
          <div class="news-container">
            <div class="news-ticker" id="news-ticker">
              <div class="ticker-headline">
                <span class="breaking-news">BREAKING:</span>
                <span class="headline-text">Suspect apprehended in downtown bank robbery</span>
              </div>
              <div class="ticker-headline">
                <span class="breaking-news">ALERT:</span>
                <span class="headline-text">Police investigate series of burglaries in north district</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Map Section -->
        <section class="map-section">
          <h2>Curent User Location</h2>
          <div class="map-container">
            <iframe
              id="mapIframe"
              src="https://maps.google.com/maps?q=28.123456789012345,77.12345678901234&z=15&output=embed"
              allowfullscreen=""
              loading="lazy"
            >
            </iframe>
          </div>
        </section>
      </div>

      <div class="login-modal" id="userLoginModal">
        <div class="modal-box">
          <div class="card">
            <input
              value=""
              class="blind-check"
              type="checkbox"
              id="blind-input"
              name="blindcheck"
              hidden=""
            />
            <label for="blind-input" class="blind_input">
              <span class="hide">Hide</span>
              <span class="show">Show</span>
            </label>

            <form class="form" id="loginForm">
              <div class="title">Sign In</div>
              <label class="label_input" for="email-input">Email</label>
              <input
                spellcheck="false"
                class="input"
                type="email"
                name="email"
                id="email-input"
                required
              />

              <div class="frg_pss">
                <label class="label_input" for="password-input">Password</label>
                <a href="">Forgot password?</a>
              </div>
              <input
                spellcheck="false"
                class="input"
                type="text"
                name="password"
                id="password-input"
                required
              />
              <button class="submit" type="submit">Submit</button>
            </form>

            <label for="blind-input" class="avatar">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="35"
                height="35"
                viewBox="0 0 64 64"
                id="monkey"
              >
                <ellipse
                  cx="53.7"
                  cy="33"
                  rx="8.3"
                  ry="8.2"
                  fill="#89664c"
                ></ellipse>
                <ellipse
                  cx="53.7"
                  cy="33"
                  rx="5.4"
                  ry="5.4"
                  fill="#ffc5d3"
                ></ellipse>
                <ellipse
                  cx="10.2"
                  cy="33"
                  rx="8.2"
                  ry="8.2"
                  fill="#89664c"
                ></ellipse>
                <ellipse
                  cx="10.2"
                  cy="33"
                  rx="5.4"
                  ry="5.4"
                  fill="#ffc5d3"
                ></ellipse>
                <g fill="#89664c">
                  <path
                    d="m43.4 10.8c1.1-.6 1.9-.9 1.9-.9-3.2-1.1-6-1.8-8.5-2.1 1.3-1 2.1-1.3 2.1-1.3-20.4-2.9-30.1 9-30.1 19.5h46.4c-.7-7.4-4.8-12.4-11.8-15.2"
                  ></path>
                  <path
                    d="m55.3 27.6c0-9.7-10.4-17.6-23.3-17.6s-23.3 7.9-23.3 17.6c0 2.3.6 4.4 1.6 6.4-1 2-1.6 4.2-1.6 6.4 0 9.7 10.4 17.6 23.3 17.6s23.3-7.9 23.3-17.6c0-2.3-.6-4.4-1.6-6.4 1-2 1.6-4.2 1.6-6.4"
                  ></path>
                </g>
                <path
                  d="m52 28.2c0-16.9-20-6.1-20-6.1s-20-10.8-20 6.1c0 4.7 2.9 9 7.5 11.7-1.3 1.7-2.1 3.6-2.1 5.7 0 6.1 6.6 11 14.7 11s14.7-4.9 14.7-11c0-2.1-.8-4-2.1-5.7 4.4-2.7 7.3-7 7.3-11.7"
                  fill="#e0ac7e"
                ></path>
                <g fill="#3b302a" class="monkey-eye-nose">
                  <path
                    d="m35.1 38.7c0 1.1-.4 2.1-1 2.1-.6 0-1-.9-1-2.1 0-1.1.4-2.1 1-2.1.6.1 1 1 1 2.1"
                  ></path>
                  <path
                    d="m30.9 38.7c0 1.1-.4 2.1-1 2.1-.6 0-1-.9-1-2.1 0-1.1.4-2.1 1-2.1.5.1 1 1 1 2.1"
                  ></path>
                  <ellipse
                    cx="40.7"
                    cy="31.7"
                    rx="3.5"
                    ry="4.5"
                    class="monkey-eye-r"
                  ></ellipse>
                  <ellipse
                    cx="23.3"
                    cy="31.7"
                    rx="3.5"
                    ry="4.5"
                    class="monkey-eye-l"
                  ></ellipse>
                </g>
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="35"
                height="35"
                viewBox="0 0 64 64"
                id="monkey-hands"
              >
                <path
                  fill="#89664C"
                  d="M9.4,32.5L2.1,61.9H14c-1.6-7.7,4-21,4-21L9.4,32.5z"
                ></path>
                <path
                  fill="#FFD6BB"
                  d="M15.8,24.8c0,0,4.9-4.5,9.5-3.9c2.3,0.3-7.1,7.6-7.1,7.6s9.7-8.2,11.7-5.6c1.8,2.3-8.9,9.8-8.9,9.8
	s10-8.1,9.6-4.6c-0.3,3.8-7.9,12.8-12.5,13.8C11.5,43.2,6.3,39,9.8,24.4C11.6,17,13.3,25.2,15.8,24.8"
                ></path>
                <path
                  fill="#89664C"
                  d="M54.8,32.5l7.3,29.4H50.2c1.6-7.7-4-21-4-21L54.8,32.5z"
                ></path>
                <path
                  fill="#FFD6BB"
                  d="M48.4,24.8c0,0-4.9-4.5-9.5-3.9c-2.3,0.3,7.1,7.6,7.1,7.6s-9.7-8.2-11.7-5.6c-1.8,2.3,8.9,9.8,8.9,9.8
	s-10-8.1-9.7-4.6c0.4,3.8,8,12.8,12.6,13.8c6.6,1.3,11.8-2.9,8.3-17.5C52.6,17,50.9,25.2,48.4,24.8"
                ></path>
              </svg>
            </label>
          </div>
        </div>
      </div>
      <div class="login-modal" id="loginModal">
        <div class="modal-box">image.png
          <div class="container">
            <div class="toggle-switch">
              <span>User</span>
              <label class="switch">
                <input type="checkbox" id="roleToggle" />
                <span class="slider"></span>
              </label>
              <span>Police</span>
            </div>

            <div class="flip-card" id="flipCard">
              <!-- User Registration Form -->
              <div class="card-front">
                <h2 class="form-title">User Registration</h2>
                <form id="userForm">
                  <div class="form-group">
                    <input
                      type="text"
                      id="userName"
                      placeholder="Name"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="number"
                      id="userAge"
                      min="18"
                      placeholder="Age"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="tel"
                      id="userMobile"
                      pattern="[0-9]{10}"
                      placeholder="Mobile No."
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="email"
                      id="userEmail"
                      placeholder="Email"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="password"
                      id="userPassword"
                      placeholder="Password"
                      required
                    />
                  </div>
                  <button type="submit" class="submit-btn">Register</button>
                  <p style="margin-top: 10px; margin-left: 50px">
                    You have an account?
                    <a class="register" href="#" onclick="showLoginForm()"
                      >Sign In</a
                    >
                  </p>
                </form>
              </div>

              <!-- Police Registration Form -->
              <div class="card-back">
                <h2 class="form-title">Police Registration</h2>
                <form id="policeForm">
                  <div class="form-row">
                    <div class="form-group">
                      <input
                        type="text"
                        id="policeId"
                        placeholder="Police ID"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="text"
                        id="batchNo"
                        placeholder="Batch NO."
                        required
                      />
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <input
                        type="text"
                        id="rank"
                        placeholder="Rank"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <input
                        type="tel"
                        id="policePhone"
                        pattern="[0-9]{10}"
                        placeholder="Phone No."
                        required
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <input
                      type="text"
                      id="station"
                      placeholder="Police Station"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="email"
                      id="policeEmail"
                      placeholder="Email"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="password"
                      id="policePassword"
                      placeholder="Password"
                      required
                    />
                  </div>
                  <button type="submit" class="submit-btn">Register</button>
                  <p style="margin-top: 10px; margin-left: 50px">
                    You have an account?
                    <a class="register" href="#" onclick="showLoginForm()"
                      >Sign In</a
                    >
                  </p>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Emergency Contacts</h3>
            <ul>
              <a href="tel:100" style="color: #fff; text-decoration: none">
                <li><strong>Police:</strong> 100</li>
              </a>
              <a href="tel:1091" style="color: #fff; text-decoration: none">
                <li><strong>Women's Helpline:</strong> 1091</li>
              </a>
              <a href="tel:108" style="color: #fff; text-decoration: none">
                <li><strong>Ambulance:</strong> 108</li>
              </a>
              <a href="tel:1098" style="color: #fff; text-decoration: none">
                <li><strong>Child Helpline:</strong> 1098</li>
              </a>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="/Frontend/report.html">Report Case</a></li>
              <li><a href="/Frontend/Track_case/track.html">Track Case</a></li>
              <li><a href="#">Safety Tips</a></li>
              <li><a href="#">FAQs</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Connect With Us</h3>
            <ul>
              <li><a href="#">Twitter</a></li>
              <li><a href="#">Facebook</a></li>
              <li><a href="#">Instagram</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>Â© 2024 CivicEye. All rights reserved.</p>
        </div>
      </footer>
    </main>
<script src="/Frontend/landing/Access.js"></script>
    <script src="/Frontend/landing/main.js"></script>
    <script src="/Frontend/landing/auth_passing.js"></script>
<script>
  // In your auth_passing.js or similar frontend file
document.querySelector('.frg_pss a').addEventListener('click', async (e) => {
  e.preventDefault();
  
  const email = prompt('Please enter your email address:');
  if (!email) return;
  
  try {
  const response = await fetch('http://localhost:5000/api/v1/auth/forgot-password', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({ email, userType: 'user' })  // Include userType!
});

    
    const data = await response.json();
    
    if (response.ok) {
      alert('Password reset link sent to your email!');
    } else {
      alert(data.message || 'Failed to send reset link');
    }
  } catch (err) {
    alert('Network error. Please try again later.');
  }
});
</script>
  </body>
</html>